!function(){const e="aiSAASChatbotConfig",t="ai-saas-chatbot-bubble-button",n="ai-saas-chatbot-bubble-window",o=window[e],i={open:'<svg xmlns=" http://www.w3.org/2000/svg" width="30" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white block border-gray-200 align-middle">\n      <path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z" class="border-gray-200">\n      </path>\n    </svg>',close:'<svg id="closeIcon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M18 18L6 6M6 18L18 6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>'};async function s(){if(o&&o.code){const e=o.baseUrl||"http://localhost:3000/chat/",s=await async function(){if(o&&o.token){const e=new URLSearchParams,t=o.inputs||{};return Object.entries(t).forEach((([t,n])=>{e.append(t,n)})),e.toString()}return""}(),r=`${e}${o.code}?${s}`,d=`\n        #${t} {\n          position: fixed;\n          bottom: var(--${t}-bottom, 1rem);\n          right: var(--${t}-right, 1rem);\n          left: var(--${t}-left, unset);\n          top: var(--${t}-top, unset);\n          width: var(--${t}-width, 50px);\n          height: var(--${t}-height, 50px);\n          border-radius: var(--${t}-border-radius, 25px);\n          background-color: var(--${t}-bg-color, rgb(0 0 0 / var(--tw-bg-opacity, 1)));\n          box-shadow: var(--${t}-box-shadow, rgba(0, 0, 0, 0.2) 0px 4px 8px 0px);\n          cursor: pointer;\n          z-index: 2147483647;\n        }\n      `,l=document.createElement("div");l.id=t,Object.entries(o.containerProps||{}).forEach((([e,t])=>{"className"===e?l.classList.add(...t.split(" ")):"style"===e?"object"==typeof t?Object.assign(l.style,t):l.style.cssText=t:"function"==typeof t?l.addEventListener(e.replace(/^on/,"").toLowerCase(),t):l[e]=t}));const a=document.createElement("style");document.head.appendChild(a),a.sheet.insertRule(d);const c=document.createElement("div");c.style.cssText="display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; z-index: 2147483647;",c.innerHTML=i.open,l.appendChild(c),document.body.appendChild(l);const p=document.createElement("iframe");if(p.id=n,p.allow="fullscreen; microphone",p.title="AI SASS chatbot bubble window",p.style.cssText="\n        border: none;\n        position: absolute;\n        flex-direction: column;\n        justify-content: space-between;\n        box-shadow: rgba(150, 150, 150, 0.2) 0px 10px 30px 0px, rgba(150, 150, 150, 0.2) 0px 0px 0px 1px;\n        bottom: 55px;\n        right: 0;\n        width: 24rem;\n        max-width: calc(100vw - 2rem);\n        height: 40rem;\n        max-height: calc(100vh - 6rem);\n        border-radius: 0.75rem;\n        display: none;\n        z-index: 2147483647;\n        overflow: hidden;\n        left: unset;\n        background-color: #F3F4F6;\n        user-select: none;\n      ",p.src=r,document.body.appendChild(p),l.addEventListener("click",(()=>{const e=document.getElementById(n);e&&(e.style.display="none"===e.style.display?"block":"none",c.innerHTML="none"===e.style.display?i.open:i.close)})),document.addEventListener("keydown",(e=>{if("Escape"===e.key){const e=document.getElementById(n),o=document.getElementById(t);e&&"none"!==e.style.display&&(e.style.display="none",o.querySelector("div").innerHTML=i.open)}})),o.draggable){const e=document.getElementById(t);let n=!1,o=0,i=0;e.addEventListener("mousedown",(t=>{n=!0,o=t.clientX-e.offsetLeft,i=t.clientY-e.offsetTop})),document.addEventListener("mousemove",(s=>{if(n){e.style.transition="none",e.style.cursor="grabbing";const n=s.clientX-o,r=s.clientY-i,d=window.innerWidth,l=window.innerHeight,a=e.offsetWidth,c=e.offsetHeight;e.style.setProperty(`--${t}-left`,`${Math.max(0,Math.min(n,d-a))}px`),e.style.setProperty(`--${t}-bottom`,`${Math.max(0,Math.min(r,l-c))}px`)}})),document.addEventListener("mouseup",(()=>{n=!1,e.style.transition="",e.style.cursor="pointer"}))}!function(){const e=document.getElementById(t),o=document.getElementById(n);if(e&&o){const t=e.getBoundingClientRect(),n=o.getBoundingClientRect();t.top-5>n.height?(o.style.bottom=`${t.height+5}px`,o.style.top="unset"):(o.style.bottom="unset",o.style.top=`${t.height+5}px`),t.right>n.width?(o.style.right="0",o.style.left="unset"):(o.style.right="unset",o.style.left="0")}}()}else console.error(`${e} is empty or token is not provided`)}o?.dynamicScript?s():document.body.onload=s}();